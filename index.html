<!DOCTYPE html>
<html lang="sr">
<head>
    <meta charset="UTF-8">
    <title>KONTROLA GRADA | Urbex Archive</title>
    <style>
        :root { --green: #00ff41; --bg: #050505; --red: #ff0000; --cyan: #00f2ff; }
        body { background: var(--bg); color: var(--green); font-family: 'Courier New', monospace; margin: 0; overflow-x: hidden; }
        body::after { content: " "; display: block; position: fixed; inset: 0; background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06)); z-index: 9999; background-size: 100% 2px, 3px 100%; pointer-events: none; }
        #bg-canvas { position: fixed; inset: 0; z-index: -1; opacity: 0.4; }
        
        /* WARNING SCREEN */
        #warning-screen { position: fixed; inset: 0; background: #000; z-index: 5000; display: flex; justify-content: center; align-items: center; text-align: center; color: var(--red); padding: 20px; }
        .warning-box { border: 2px solid var(--red); padding: 30px; max-width: 700px; background: rgba(30, 0, 0, 0.9); box-shadow: 0 0 20px var(--red); }
        .warning-btn { background: transparent; border: 1px solid var(--red); color: var(--red); padding: 15px 30px; cursor: pointer; font-weight: bold; margin-top: 20px; transition: 0.3s; }
        .warning-btn:hover { background: var(--red); color: #000; }

        /* NAV & SECTIONS */
        nav { border-bottom: 1px solid var(--green); padding: 15px; display: flex; gap: 15px; justify-content: center; background: rgba(0,0,0,0.8); position: sticky; top: 0; z-index: 100; flex-wrap: wrap; }
        .btn { cursor: pointer; text-transform: uppercase; font-weight: bold; padding: 5px 10px; border: 1px solid transparent; transition: 0.3s; font-size: 0.9em; }
        .btn:hover { border-color: var(--green); background: rgba(0,255,65,0.1); }
        .section { display: none; padding: 20px; max-width: 1200px; margin: auto; }
        .active { display: block; }
        
        .sekcija-naslov { color: var(--green); text-align: center; border: 2px solid var(--green); padding: 10px; margin: 30px 0; text-transform: uppercase; letter-spacing: 5px; background: rgba(0, 255, 65, 0.1); }
        .sekcija-naslov::before { content: ">>> "; } .sekcija-naslov::after { content: " <<<"; }

        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 25px; }
        .card { border: 1px solid #222; padding: 10px; background: rgba(10, 10, 10, 0.9); cursor: pointer; text-align: center; transition: 0.3s; position: relative; }
        .card:hover { border-color: var(--green); box-shadow: 0 0 15px var(--green); transform: translateY(-5px); }
        .card img { width: 100%; height: 180px; object-fit: cover; border-bottom: 1px solid #222; margin-bottom: 10px; }

        /* PREVIEW MODAL SA NAVIGACIJOM */
        #preview { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.98); z-index: 2000; padding: 20px; }
        .modal-box { position: relative; max-width: 1100px; width: 95%; margin: 30px auto; border: 1px solid var(--green); background: #000; padding: 10px; text-align: center; }
        #preview-content { width: 100%; height: 75vh; border: none; }
        .close-btn { position: absolute; top: -50px; right: 0; font-size: 50px; cursor: pointer; color: var(--green); }
        
        .nav-arrow { position: absolute; top: 50%; transform: translateY(-50%); font-size: 50px; color: var(--green); cursor: pointer; background: rgba(0,0,0,0.5); padding: 10px; border: 1px solid var(--green); user-select: none; transition: 0.3s; z-index: 10; }
        .nav-arrow:hover { background: var(--green); color: #000; }
        .arrow-left { left: -70px; }
        .arrow-right { right: -70px; }

        /* LOGIN & FORMS */
        #login { position: fixed; inset: 0; background: #000; z-index: 1000; display: none; justify-content: center; align-items: center; }
        .box { border: 2px solid var(--green); padding: 40px; background: #0a0a0a; text-align: center; box-shadow: 0 0 20px var(--green); }
        input, textarea, select { background: #000; border: 1px solid var(--green); color: var(--green); padding: 12px; margin: 10px 0; outline: none; width: 100%; box-sizing: border-box; font-family: 'Courier New', monospace; }
        button { background: var(--green); border: none; padding: 12px 25px; cursor: pointer; font-weight: bold; text-transform: uppercase; width: 100%; margin-top: 10px; }

        /* SUBMIT DATA STYLING */
        .submit-container { border: 1px solid var(--cyan); padding: 30px; background: rgba(0,10,20,0.9); max-width: 700px; margin: auto; box-shadow: 0 0 30px rgba(0, 242, 255, 0.1); }
        .protocol-header { color: var(--cyan); font-weight: bold; font-size: 1.2em; border-bottom: 1px solid var(--cyan); padding-bottom: 10px; margin-bottom: 20px; text-align: center; }
        .important-note { color: #ffcc00; font-size: 0.9em; border: 1px solid #ffcc00; padding: 15px; margin: 20px 0; background: rgba(255, 204, 0, 0.05); border-left: 5px solid #ffcc00; }
        .step-title { color: var(--green); font-size: 0.8em; text-transform: uppercase; margin-top: 15px; display: block; }

        @media (max-width: 1200px) { .nav-arrow { position: static; transform: none; display: inline-block; margin: 10px 20px; } .arrow-left, .arrow-right { left: auto; right: auto; } }
    </style>
</head>
<body>

<canvas id="bg-canvas"></canvas>

<div id="warning-screen">
    <div class="warning-box">
        <h1>⚠️ PRISTUP OGRANIČEN ⚠️</h1>
        <p style="text-align: left; font-size: 0.85em;">[!] DIGITALNA SIMULACIJA: Sadržaj je produkt kreativne montaže i AI obrade. Autor ne promoviše kršenje zakona.</p>
        <button class="warning-btn" onclick="acceptWarning()">POTVRĐUJEM DA JE SADRŽAJ FIKCIONALAN</button>
    </div>
</div>

<div id="login">
    <div class="box" style="width: 350px;">
        <h1>KONTROLA GRADA</h1>
        <input type="password" id="pass" placeholder="PASSWORD_REQUIRED">
        <button onclick="check()">OTKLJUČAJ</button>
    </div>
</div>

<div id="main" style="display:none;">
    <nav>
        <div class="btn" onclick="show('panel')">Status Panel</div>
        <div class="btn" onclick="show('arhiva')">Arhiva Media</div>
        <div class="btn" onclick="show('community')">Community Vault</div>
        <div class="btn" onclick="show('submit')">Submit Data</div>
        <div id="admin-btn" class="btn" onclick="show('admin')" style="display:none; color: #ffcc00;">Master Control</div>
        <div class="btn" onclick="location.reload()" style="color:var(--red)">Log Out</div>
    </nav>

    <div id="panel" class="section active">
        <h1>SYSTEM STATUS</h1>
        <div style="border: 1px dashed var(--green); padding: 25px; background: rgba(0,255,0,0.02);">
            <p>> KORISNIK: <span style="color:#fff">OPERATOR_013</span></p>
            <p>> LOKACIJA: <span style="color:#fff">PANČEVO / BEOGRAD</span></p>
            <p>> VREME SISTEMA: <span id="clock" style="color:#fff">00:00:00</span></p>
            <p>> DATA ENCRYPTION: <span style="color:var(--green)">ACTIVE (AES-256)</span></p>
            <p>> STATUS SADRŽAJA: <span style="color:var(--red)">AI_PROCESSED_FICTION</span></p>
        </div>
    </div>

    <div id="arhiva" class="section">
        <h1>OFFICIAL ARCHIVE</h1>
        <div id="arhiva-kontener"></div>
    </div>

    <div id="community" class="section">
        <h1>COMMUNITY VAULT</h1>
        <div id="community-kontener"></div>
    </div>

    <div id="submit" class="section">
        <h1 style="color: var(--cyan);">SUBMIT PROTOCOL</h1>
        <div class="submit-container">
            <form action="https://formspree.io/f/mreakjvd" method="POST">
                <div class="protocol-header">[ EKSTERNA PRIJAVA PODATAKA ]</div>
                
                <span class="step-title">ID OPERATERA:</span>
                <input type="text" name="ime" placeholder="Unesite vaš alias (npr. SilentWalker_013)" required>
                
                <span class="step-title">DATA LINK (GOOGLE DRIVE):</span>
                <input type="text" name="link" placeholder="https://drive.google.com/file/d/..." required>
                
                <div class="important-note">
                    <strong>⚠️ KRITIČNA INSTRUKCIJA ZA PRISTUP:</strong><br><br>
                    Da bi arhiva mogla da indeksira vaš snimak, na Google Drive-u morate podesiti:<br>
                    <strong>Share -> General Access -> "Anyone with the link"</strong><br>
                    (Svi koji imaju vezu - Viewer status).<br><br>
                    U suprotnom, sistem će automatski odbaciti vašu prijavu kao nečitljivu.
                </div>
                
                <span class="step-title">DODATNI OPIS / LOKACIJA:</span>
                <textarea name="napomena" rows="4" placeholder="Navedite detalje lokacije ili specifične napomene o snimljenom materijalu..."></textarea>
                
                <button type="submit" style="background: var(--cyan); color: #000; font-size: 1.1em; letter-spacing: 2px;">POŠALJI PODATKE NA VERIFIKACIJU</button>
            </form>
        </div>
    </div>

    <div id="admin" class="section">
        <h1 style="color: #ffcc00;">MASTER CONTROL</h1>
        <div style="border: 1px solid #ffcc00; padding: 20px;">
            <input type="text" id="adm-name" placeholder="Ime">
            <input type="text" id="adm-url" placeholder="URL">
            <select id="adm-type"><option value="video">VIDEO</option><option value="slika">SLIKA</option></select>
            <button style="background: #ffcc00; color: #000;" onclick="genCode()">GENERIŠI KOD</button>
            <pre id="code-output" style="color: white; font-size: 0.7em;"></pre>
        </div>
    </div>
</div>

<div id="preview">
    <div class="modal-box">
        <span class="close-btn" onclick="closePreview()">&times;</span>
        <div class="nav-arrow arrow-left" onclick="changeMedia(-1)">&#10094;</div>
        <div class="nav-arrow arrow-right" onclick="changeMedia(1)">&#10095;</div>
        <h2 id="preview-title" style="color: var(--green); letter-spacing: 2px;"></h2>
        <div id="media-holder"></div>
    </div>
</div>

<script>
    const USER_PASS = "29012026kontrola";
    const ADMIN_PASS = "admin013master";
    let currentSource = null, currentSi = null, currentFi = null;

    const MOJA_ARHIVA = [
        { naslovSekcije: "SEKCIJA 1 - ŠTAMPARIJA", fajlovi: [
            { ime: "Video 1", tip: "video", url: "https://drive.google.com/file/d/1p--S8zpIhUN_Mt6heh2Dh7jmY3G54Ukr/preview", datum: "13.12.2025" },
            { ime: "Video 2", tip: "video", url: "https://drive.google.com/file/d/1wi7Gom8qGIW-yx2maO_oheGGnjADR3iy/preview", datum: "13.12.2025" },
            { ime: "Video 3", tip: "video", url: "https://drive.google.com/file/d/1hfXxiUUXCoFrK3zzxWtfh0dmUotrNLRC/preview", datum: "13.12.2025" },
            { ime: "Video 4", tip: "video", url: "https://drive.google.com/file/d/1wMdFBlKuvv63CPfn9HqWFbTsfEoJZ22r/preview", datum: "NEPOZNATO" },
            { ime: "Video 5", tip: "video", url: "https://drive.google.com/file/d/1oH9Mfc63uxjIoThrCHLesdhXYgw-C_oU/preview", datum: "NEPOZNATO" },
            { ime: "Video 6", tip: "video", url: "https://drive.google.com/file/d/1L1fTno8D9JgnoDXgr8Ycox3xJiHZf_qk/preview", datum: "NEPOZNATO" }
        ]},
        { naslovSekcije: "SEKCIJA 2 - PIVARA", fajlovi: [
            { ime: "Video 1", tip: "video", url: "https://drive.google.com/file/d/1elgBCMu24HA7mY-JM1jcXc6GHfTeHgYN/preview", datum: "NEPOZNATO" },
            { ime: "Video 2", tip: "video", url: "https://drive.google.com/file/d/1p7ZicskGiyj9bHDokJpNX-oUevV45xNI/preview", datum: "NEPOZNATO" }
        ]},
        { naslovSekcije: "SEKCIJA 3 - OBLAST 013", fajlovi: [
            { ime: "Video 1", tip: "video", url: "https://drive.google.com/file/d/1OGUexzSH9Vx1yW8fom3L2n7n__cgcBmY/preview", datum: "NEPOZNATO" },
            { ime: "Video 2", tip: "video", url: "https://drive.google.com/file/d/1GoGjnAvQAq1sopRNgDc3Niju01Cgp5QW/preview", datum: "NEPOZNATO" },
            { ime: "Video 3", tip: "video", url: "https://drive.google.com/file/d/1hYpcJ496B0CZFzyUQJD38iPeRWL28PpI/preview", datum: "NEPOZNATO" },
            { ime: "Video 4", tip: "video", url: "https://drive.google.com/file/d/1Esk0TCMkIALr0K_4qpYaor3JGLRqcUbc/preview", datum: "NEPOZNATO" },
            { ime: "Video 5", tip: "video", url: "https://drive.google.com/file/d/1oFmDDLJCv3RXU7C_8hChbQpZuHWlTLi6/preview", datum: "NEPOZNATO" },
            { ime: "Video 6", tip: "video", url: "https://drive.google.com/file/d/1G82zzP5gkDXKYsTjkJglWSS5SitipB_6/preview", datum: "NEPOZNATO" },
            { ime: "Video 7", tip: "video", url: "https://drive.google.com/file/d/11lR4tbKZ0Y-QPAmxklSRbqPLxj1CBTiB/preview", datum: "NEPOZNATO" },
            { ime: "Video 8", tip: "video", url: "https://drive.google.com/file/d/13uM9mo9DjfhljnbP0ObyRsmiQiDUwTWY/preview", datum: "NEPOZNATO" },
            { ime: "Video 9", tip: "video", url: "https://drive.google.com/file/d/11yLMhxA86trAaE6aEijicRUbIL8QCYnv/preview", datum: "NEPOZNATO" },
            { ime: "Video 10", tip: "video", url: "https://drive.google.com/file/d/1NkbaIIjYX6UGOuMMNB-7u78daRS4cXf5/preview", datum: "NEPOZNATO" },
            { ime: "Video 11", tip: "video", url: "https://drive.google.com/file/d/1VXZ2vpoe8AEfC0WU73sGzR39vetnAGFE/preview", datum: "NEPOZNATO" },
            { ime: "Video 12", tip: "video", url: "https://drive.google.com/file/d/1TJ--2_xs36ld9NPnHXWg5C3JCBHpZq-E/preview", datum: "NEPOZNATO" },
            { ime: "Video 13", tip: "video", url: "https://drive.google.com/file/d/1-f0YlDE9wUXOjF0dE9eAT69F9BVSnKQd/preview", datum: "NEPOZNATO" }
        ]},
        { naslovSekcije: "SEKCIJA 4 - NAPUŠTENA KLANICA", fajlovi: [
            { ime: "Video 1", tip: "video", url: "https://drive.google.com/file/d/1PSRZIt-HP86NAAS_uSVuIrv9XpGAZFX8/preview", datum: "NEPOZNATO" },
            { ime: "Video 2", tip: "video", url: "https://drive.google.com/file/d/11Y72TgpPMuNGOXZtHIW8Qw9FfcoC6Ds0/preview", datum: "NEPOZNATO" }
        ]},
        { naslovSekcije: "SEKCIJA 5 - ARHIVA SLIKA", fajlovi: [
            { ime: "Slika 1", tip: "slika", url: "https://drive.google.com/thumbnail?id=17syPiLTIjU4UO8TRnQyht4eLtEW2YKNL&sz=w1000", datum: "NEPOZNATO" },
            { ime: "Slika 2", tip: "slika", url: "https://drive.google.com/thumbnail?id=1590QaofLiEZyTW4mnowOsyFVY2ue2LrA&sz=w1000", datum: "NEPOZNATO" },
            { ime: "Slika 3", tip: "slika", url: "https://drive.google.com/thumbnail?id=1iYP2REvF7QMzAq80ONWCnpYEWerd5JL_&sz=w1000", datum: "NEPOZNATO" },
            { ime: "Slika 4", tip: "slika", url: "https://drive.google.com/thumbnail?id=1_ei_KjVurEyHyG4kyV0yKyG5t0_upblz&sz=w1000", datum: "NEPOZNATO" },
            { ime: "Slika 5", tip: "slika", url: "https://drive.google.com/thumbnail?id=1Krk5B-oGvzDr0IhxVqBvwsyYTEGXOUM8&sz=w1000", datum: "NEPOZNATO" },
            { ime: "Slika 6", tip: "slika", url: "https://drive.google.com/thumbnail?id=1mzCsQpyvcqUfISt3FusP6J6Mz7r6LauX&sz=w1000", datum: "NEPOZNATO" },
            { ime: "Slika 7", tip: "slika", url: "https://drive.google.com/thumbnail?id=1p8IOBBHNVCmONZsU01UiiPzj9olttW3e&sz=w1000", datum: "NEPOZNATO" },
            { ime: "Slika 8", tip: "slika", url: "https://drive.google.com/thumbnail?id=1s3yzr2GFE0LwEhU9Q6-Q2qSFDXM_oie9&sz=w1000", datum: "NEPOZNATO" },
            { ime: "Slika 9", tip: "slika", url: "https://drive.google.com/thumbnail?id=1pp1QwAspsuOIhPOQVCY87C3Kvz8aC2rv&sz=w1000", datum: "NEPOZNATO" },
            { ime: "Slika 10", tip: "slika", url: "https://drive.google.com/thumbnail?id=17mP28kD-EkpO4uXq6slsPtQSVThJmT-8&sz=w1000", datum: "NEPOZNATO" },
            { ime: "Slika 11", tip: "slika", url: "https://drive.google.com/thumbnail?id=1JfixZgHS-HBbB7J8GO6oZSzaaGxbv3L7&sz=w1000", datum: "NEPOZNATO" },
            { ime: "Slika 12", tip: "slika", url: "https://drive.google.com/thumbnail?id=1gct9lglN5sRpOMX2dcfBB717l8RmL-mi&sz=w1000", datum: "NEPOZNATO" },
            { ime: "Slika 13", tip: "slika", url: "https://drive.google.com/thumbnail?id=1wq_CgiqmT4Zw7HgdjgIZUDHTWbMdVgBs&sz=w1000", datum: "NEPOZNATO" },
            { ime: "Slika 14", tip: "slika", url: "https://drive.google.com/thumbnail?id=1WOMShIi6hTTYXuuGR8Oz0Wvxcwql5Ebq&sz=w1000", datum: "NEPOZNATO" },
            { ime: "Slika 15", tip: "slika", url: "https://drive.google.com/thumbnail?id=11jhWuG1s0IAdH2VgBymTxF-YKaO4XbcO&sz=w1000", datum: "NEPOZNATO" },
            { ime: "Slika 16", tip: "slika", url: "https://drive.google.com/thumbnail?id=1S5TpD0KnuALYxVYSj8CdX8rB27s2517a&sz=w1000", datum: "NEPOZNATO" },
            { ime: "Slika 17", tip: "slika", url: "https://drive.google.com/thumbnail?id=1WCM_ixmavfjKreAsBio0-lHk3hcPTB8H&sz=w1000", datum: "NEPOZNATO" },
            { ime: "Slika 18", tip: "slika", url: "https://drive.google.com/thumbnail?id=1wa-r8qpSpgq40Fzzn8zPeK4wyGhLxCDl&sz=w1000", datum: "NEPOZNATO" },
            { ime: "Slika 19", tip: "slika", url: "https://drive.google.com/thumbnail?id=1FSbJmeH4BoObkZPSx4QIcH6-xxmOnL2a&sz=w1000", datum: "NEPOZNATO" },
            { ime: "Slika 20", tip: "slika", url: "https://drive.google.com/thumbnail?id=1PEw7pvthBX7V6r3BKNmOmW9-EtZ2rYd1&sz=w1000", datum: "NEPOZNATO" },
            { ime: "Slika 21", tip: "slika", url: "https://drive.google.com/thumbnail?id=1TzUSwVtKmSRlaE9dukjT_VoIScuXJ-Lr&sz=w1000", datum: "NEPOZNATO" },
            { ime: "Slika 22", tip: "slika", url: "https://drive.google.com/thumbnail?id=1wI49ckhmA-JZlELTf5UI56lP1b6_mvq8&sz=w1000", datum: "NEPOZNATO" },
            { ime: "Slika 23", tip: "slika", url: "https://drive.google.com/thumbnail?id=1XU-h8MsJ3dZ8wCW8-WzBU3rbb4p9uNzW&sz=w1000", datum: "NEPOZNATO" },
            { ime: "Slika 24", tip: "slika", url: "https://drive.google.com/thumbnail?id=1ArqvLdBPhv2XxNiqyxz1aE2cS57Kibi-&sz=w1000", datum: "NEPOZNATO" },
            { ime: "Slika 25", tip: "slika", url: "https://drive.google.com/thumbnail?id=1MBcqWdkz4xgInXATIMCaU1kvH-poV-Nj&sz=w1000", datum: "NEPOZNATO" },
            { ime: "Slika 26", tip: "slika", url: "https://drive.google.com/thumbnail?id=1CFG0lWqWE8HJ6pxMo5MO2skiNOo-wHwe&sz=w1000", datum: "NEPOZNATO" },
            { ime: "Slika 27", tip: "slika", url: "https://drive.google.com/thumbnail?id=1FVtOP58XWB9zgcnGO6weOhTcUbgZ7WaQ&sz=w1000", datum: "NEPOZNATO" },
            { ime: "Slika 28", tip: "slika", url: "https://drive.google.com/thumbnail?id=1xUB4o6J35qRvHk8nWwnxs4CsVuXyKWC9&sz=w1000", datum: "NEPOZNATO" },
            { ime: "Slika 29", tip: "slika", url: "https://drive.google.com/thumbnail?id=1KkOy6JQWsRsDfQWtgSAVr9tUU6551Ls-&sz=w1000", datum: "NEPOZNATO" },
            { ime: "Slika 30", tip: "slika", url: "https://drive.google.com/thumbnail?id=17zfRVijdXKMsRXaUnJ_tfiEgPu_x8hrG&sz=w1000", datum: "NEPOZNATO" },
            { ime: "Slika 31", tip: "slika", url: "https://drive.google.com/thumbnail?id=1fhooWW7xi_iJ_bIlejdhyqpVB9qVpSvh&sz=w1000", datum: "NEPOZNATO" },
            { ime: "Slika 32", tip: "slika", url: "https://drive.google.com/thumbnail?id=1T35-LcW-NDATjzvaCfIeLwxMWFtFi5MF&sz=w1000", datum: "NEPOZNATO" },
            { ime: "Slika 33", tip: "slika", url: "https://drive.google.com/thumbnail?id=1-_knEDvMHGfqqT6vZTteSdQcfrIyP4zG&sz=w1000", datum: "NEPOZNATO" },
            { ime: "Slika 34", tip: "slika", url: "https://drive.google.com/thumbnail?id=1eNTliOafTB_iHjxF3q5w2s2EsWwMp72E&sz=w1000", datum: "NEPOZNATO" },
            { ime: "Slika 35", tip: "slika", url: "https://drive.google.com/thumbnail?id=12Mfrkg72oMHCw7OjQPl9Ld4kIuDJvhov&sz=w1000", datum: "NEPOZNATO" },
            { ime: "Slika 36", tip: "slika", url: "https://drive.google.com/thumbnail?id=1-t13WWSY34o1JFzWVqxoJ-8e8o8QZK7q&sz=w1000", datum: "NEPOZNATO" },
            { ime: "Slika 37", tip: "slika", url: "https://drive.google.com/thumbnail?id=1VNccLFnVaI6j4qss6oTyVEGAYVrfTXLs&sz=w1000", datum: "NEPOZNATO" },
            { ime: "Slika 38", tip: "slika", url: "https://drive.google.com/thumbnail?id=1WJEsFxNVr1x7ZWuw0Uff1ADwAae2fByc&sz=w1000", datum: "NEPOZNATO" },
            { ime: "Slika 39", tip: "slika", url: "https://drive.google.com/thumbnail?id=1yBxU2rEGC107EFph6sGBjN1kSyL-X6HA&sz=w1000", datum: "NEPOZNATO" },
            { ime: "Slika 40", tip: "slika", url: "https://drive.google.com/thumbnail?id=19F_fYYq1poAjv4lJm8sMgUs0nHK39LLz&sz=w1000", datum: "NEPOZNATO" },
            { ime: "Slika 41", tip: "slika", url: "https://drive.google.com/thumbnail?id=1M4H1J1Fl1XK9WlyU_YNanUlAzw7zPzYj&sz=w1000", datum: "NEPOZNATO" },
            { ime: "Slika 42", tip: "slika", url: "https://drive.google.com/thumbnail?id=1Q74BQzdDNBcJSDF8sYfgOhyQV47JgmE5&sz=w1000", datum: "NEPOZNATO" },
            { ime: "Slika 43", tip: "slika", url: "https://drive.google.com/thumbnail?id=1_F5YxVS3PbgkSyioZkq4Cj4DufWQUZgc&sz=w1000", datum: "NEPOZNATO" },
            { ime: "Slika 44", tip: "slika", url: "https://drive.google.com/thumbnail?id=1LWC0PJrf1q5N6Wcwb8ZpW1hF9_Q-19e4&sz=w1000", datum: "NEPOZNATO" },
            { ime: "Slika 45", tip: "slika", url: "https://drive.google.com/thumbnail?id=1mzCsQpyvcqUfISt3FusP6J6Mz7r6LauX&sz=w1000", datum: "NEPOZNATO" },
            { ime: "Slika 46", tip: "slika", url: "https://drive.google.com/thumbnail?id=1dymQMQ7IweFVL-ie6xXpj-36NlAy6BvM&sz=w1000", datum: "NEPOZNATO" }
        ]}
    ];

    const COMMUNITY_DATA = [
        { naslovSekcije: "COMMUNITY VAULT", fajlovi: [
            { ime: "Bombing", tip: "video", url: "https://drive.google.com/file/d/1OGUexzSH9Vx1yW8fom3L2n7n__cgcBmY/preview", datum: "NEPOZNATO" },
            { ime: "Bombing", tip: "video", url: "https://drive.google.com/file/d/1OGUexzSH9Vx1yW8fom3L2n7n__cgcBmY/preview", datum: "NEPOZNATO" },
            { ime: "Bombing", tip: "video", url: "https://drive.google.com/file/d/1OGUexzSH9Vx1yW8fom3L2n7n__cgcBmY/preview", datum: "NEPOZNATO"},
            { ime: "Slika 1", tip: "slika", url: "https://drive.google.com/thumbnail?id=11zBBG1tSjILw4_CWDB1M7SitaygZVmBJ&sz=w1000", datum: "NEPOZNATO" },
            { ime: "Slika 2", tip: "slika", url: "https://drive.google.com/thumbnail?id=1Fl4p8RMCy8P8yVuzYvWDrB-jCgngJy24&sz=w1000", datum: "NEPOZNATO" },
            { ime: "Slika 3", tip: "slika", url: "https://drive.google.com/thumbnail?id=1xKY9HhiZoLLx_sFBela_4nz6Nx6lfmej&sz=w1000", datum: "NEPOZNATO" },
            { ime: "Slika 4", tip: "slika", url: "https://drive.google.com/thumbnail?id=1hwOc5Rj_cXJQ_HOcbPOb-z9yJ_9AjtK1&sz=w1000", datum: "NEPOZNATO" },
            { ime: "Slika 5", tip: "slika", url: "https://drive.google.com/thumbnail?id=1aDX4HxpIo-N_yirC5MmmrHFmeFW4vb9w&sz=w1000", datum: "NEPOZNATO" },
            { ime: "Slika 6", tip: "slika", url: "https://drive.google.com/thumbnail?id=1UCo0Up7SOPfcTfCOlKd7AEfwGjxsiOgL&sz=w1000", datum: "NEPOZNATO" },
            { ime: "Slika 7", tip: "slika", url: "https://drive.google.com/thumbnail?id=1zfVQzf14605Co6v4GvhcQOKU3THEbFTu&sz=w1000", datum: "NEPOZNATO" },
            { ime: "Slika 8", tip: "slika", url: "https://drive.google.com/thumbnail?id=14As_GIjclsHIqv84Xw3fpqdSxINaNLk0&sz=w1000", datum: "NEPOZNATO" },
            { ime: "Slika 9", tip: "slika", url: "https://drive.google.com/thumbnail?id=1IlwW_uZnms3YZdYX75ISnJlkoK-cVwO5&sz=w1000", datum: "NEPOZNATO" },
            { ime: "Slika 10", tip: "slika", url: "https://drive.google.com/thumbnail?id=1nHpTY-zAYvPiDwk3PdHjVDEtRq17pqm_&sz=w1000", datum: "NEPOZNATO" },
            { ime: "Slika 11", tip: "slika", url: "https://drive.google.com/thumbnail?id=1T3Ag8awTdFjHSJxqM0mvhbqf7cB9Lw8_&sz=w1000", datum: "NEPOZNATO" }
        ]}
    ];

    function renderGrid(data, containerId) {
        const cont = document.getElementById(containerId);
        cont.innerHTML = "";
        data.forEach((s, si) => {
            cont.innerHTML += `<div class="sekcija-naslov">${s.naslovSekcije}</div><div class="grid" id="${containerId}-${si}"></div>`;
            s.fajlovi.forEach((f, fi) => {
                let thumb = f.tip === 'video' ? `https://drive.google.com/thumbnail?id=${f.url.split('/d/')[1].split('/')[0]}&sz=w1000` : f.url;
                document.getElementById(`${containerId}-${si}`).innerHTML += `<div class="card" onclick="openF('${containerId}',${si},${fi})"><span style="font-size:0.7em; opacity:0.6;">${f.datum}</span><img src="${thumb}"><h3>${f.ime}</h3></div>`;
            });
        });
    }

    function openF(source, si, fi) {
        currentSource = source; currentSi = si; currentFi = fi;
        const data = currentSource === 'arhiva-kontener' ? MOJA_ARHIVA : COMMUNITY_DATA;
        const f = data[si].fajlovi[fi];
        document.getElementById('preview-title').innerText = f.ime;
        document.getElementById('media-holder').innerHTML = f.tip==='video' ? `<iframe id="preview-content" src="${f.url}"></iframe>` : `<img id="preview-content" src="${f.url}" style="object-fit:contain">`;
        document.getElementById('preview').style.display = 'block';
    }

    function changeMedia(direction) {
        const data = currentSource === 'arhiva-kontener' ? MOJA_ARHIVA : COMMUNITY_DATA;
        const total = data[currentSi].fajlovi.length;
        currentFi = (currentFi + direction + total) % total;
        openF(currentSource, currentSi, currentFi);
    }

    function closePreview() { document.getElementById('preview').style.display = 'none'; document.getElementById('media-holder').innerHTML = ""; }
    function acceptWarning() { document.getElementById('warning-screen').style.display = 'none'; document.getElementById('login').style.display = 'flex'; }
    function check() { const p = document.getElementById('pass').value; if(p === USER_PASS || p === ADMIN_PASS) { document.getElementById('login').style.display = 'none'; document.getElementById('main').style.display = 'block'; if(p === ADMIN_PASS) document.getElementById('admin-btn').style.display = 'inline-block'; load(); } else { alert("ACCESS DENIED"); } }
    function show(id) { document.querySelectorAll('.section').forEach(s => s.classList.remove('active')); document.getElementById(id).classList.add('active'); }
    function load() { renderGrid(MOJA_ARHIVA, 'arhiva-kontener'); renderGrid(COMMUNITY_DATA, 'community-kontener'); }
    setInterval(() => { document.getElementById('clock').innerText = new Date().toLocaleTimeString(); }, 1000);
    
    const canvas = document.getElementById('bg-canvas'); const ctx = canvas.getContext('2d'); let pts = [];
    function init() { canvas.width = window.innerWidth; canvas.height = window.innerHeight; }
    window.onresize = init; init();
    for(let i=0; i<60; i++) pts.push({x:Math.random()*canvas.width, y:Math.random()*canvas.height, vx:(Math.random()-0.5), vy:(Math.random()-0.5)});
    function draw() {
        ctx.clearRect(0,0,canvas.width,canvas.height); ctx.strokeStyle="#004d1a";
        pts.forEach(p => { p.x+=p.vx; p.y+=p.vy; if(p.x<0||p.x>canvas.width) p.vx*=-1; if(p.y<0||p.y>canvas.height) p.vy*=-1; pts.forEach(p2 => { if(Math.hypot(p.x-p2.x, p.y-p2.y)<100){ctx.beginPath();ctx.moveTo(p.x,p.y);ctx.lineTo(p2.x,p2.y);ctx.stroke();} }); });
        requestAnimationFrame(draw);
    }
    draw();
</script>
</body>
</html>


