<!DOCTYPE html>
<html lang="sr">
<head>
    <meta charset="UTF-8">
    <title>KONTROLA GRADA| Urbex Archive </title>
    <style>
        :root { --green: #00ff41; --bg: #050505; }
        body { background: var(--bg); color: var(--green); font-family: 'Courier New', monospace; margin: 0; overflow-x: hidden; }
        #bg-canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; opacity: 0.4; }
        nav { border-bottom: 1px solid var(--green); padding: 15px; display: flex; gap: 20px; justify-content: center; background: rgba(0,0,0,0.8); position: sticky; top: 0; z-index: 100; backdrop-filter: blur(5px); }
        .btn { cursor: pointer; text-transform: uppercase; font-weight: bold; padding: 5px 10px; }
        .section { display: none; padding: 20px; max-width: 1200px; margin: auto; }
        .active { display: block; }
        .sekcija-container { margin-bottom: 60px; }
        .sekcija-naslov { color: var(--green); text-align: center; border-bottom: 2px solid var(--green); border-top: 2px solid var(--green); padding: 10px; margin: 30px 0; text-transform: uppercase; letter-spacing: 5px; background: rgba(0, 255, 65, 0.1); }
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 25px; }
        .card { border: 1px solid #222; padding: 10px; background: rgba(10, 10, 10, 0.9); cursor: pointer; text-align: center; transition: 0.3s; }
        .card:hover { border-color: var(--green); box-shadow: 0 0 15px var(--green); transform: scale(1.02); }
        .card img, .card video { width: 100%; height: 180px; object-fit: cover; border-bottom: 1px solid #222; margin-bottom: 10px; pointer-events: none; }
        
        /* MODAL I STRELICE */
        #preview { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.98); z-index: 2000; padding: 20px; text-align: center; }
        .modal-box { position: relative; max-width: 1000px; width: 95%; margin: 30px auto; border: 1px solid var(--green); background: #000; padding: 10px; box-shadow: 0 0 30px rgba(0,255,65,0.2); }
        #preview-content { width: 100%; height: 75vh; border: none; background: #000; }
        .close-btn { position: absolute; top: -50px; right: 0; font-size: 50px; cursor: pointer; color: var(--green); }
        
        .nav-arrow { position: absolute; top: 50%; transform: translateY(-50%); font-size: 60px; color: var(--green); cursor: pointer; user-select: none; padding: 20px; transition: 0.3s; z-index: 2100; }
        .nav-arrow:hover { text-shadow: 0 0 15px var(--green); scale: 1.2; }
        .arrow-left { left: -80px; }
        .arrow-right { right: -80px; }

        @media (max-width: 1100px) {
            .nav-arrow { position: static; transform: none; display: inline-block; margin: 10px 40px; }
            .arrow-left, .arrow-right { left: auto; right: auto; }
        }
        
        #login { position: fixed; inset: 0; background: #000; z-index: 1000; display: flex; justify-content: center; align-items: center; text-align: center; }
        .box { border: 2px solid var(--green); padding: 40px; background: #0a0a0a; box-shadow: 0 0 20px var(--green); }
        input { background: #000; border: 1px solid var(--green); color: var(--green); padding: 10px; text-align: center; margin: 10px; outline: none; width: 250px; font-size: 1.2em; }
        button { background: var(--green); border: none; padding: 10px 20px; cursor: pointer; font-weight: bold; text-transform: uppercase; }
    </style>
</head>
<body>

<canvas id="bg-canvas"></canvas>

<div id="login">
    <div class="box">
        <h1 style="letter-spacing: 10px;">KONTROLA GRADA</h1>
        <p>> PRISTUP URBEX SISTEMU <</p>
        <input type="password" id="pass" placeholder="PASSWORD_REQUIRED">
        <br>
        <button onclick="check()">OTKLJUČAJ</button>
    </div>
</div>

<div id="main" style="display:none;">
    <nav>
        <div class="btn" onclick="show('panel')">Status Panel</div>
        <div class="btn" onclick="show('arhiva')">Arhiva Media</div>
        <div class="btn" onclick="location.reload()" style="color:red">Log Out</div>
    </nav>

    <div id="panel" class="section active">
        <h1>SYSTEM READY</h1>
        <div style="border: 1px dashed var(--green); padding: 20px;">
            <p>> NAPOMENA: Svi snimci su digitalno osvetljeni i audio je filtriran radi bolje preglednosti.</p>
            <p>> ADMIN: SINHRONIZOVAN</p>
            <p>> LOKACIJA FAJLOVA: D:\URBEX</p>
        </div>
    </div>

    <div id="arhiva" class="section">
        <h1>ARHIVA SNIMAKA (MEDIA)</h1>
        <div id="arhiva-kontener"></div>
    </div>
</div>

<div id="preview">
    <div class="modal-box">
        <span class="nav-arrow arrow-left" onclick="prevM()">&#10094;</span>
        <span class="nav-arrow arrow-right" onclick="nextM()">&#10095;</span>
        <span class="close-btn" onclick="closePreview()">&times;</span>
        <h2 id="preview-title" style="margin-bottom: 15px; color: var(--green); letter-spacing: 2px;"></h2>
        <div id="media-holder"></div>
    </div>
</div>

<script>
    const MOJA_ARHIVA = [
        {
            naslovSekcije: "-VIDEI-SEKCIJA 1 - ŠTAMPARIJA",
            fajlovi: [
                { ime: "PRIMER SLIKA", tip: "slika", url: "https://via.placeholder.com/800x600?text=Stamparija+Slika", datum: "17.02.2026." }
            ]
        },
        {
            naslovSekcije: "SEKCIJA 2 - PIVARA",
            fajlovi: [
                { ime: "PRIMER VIDEO", tip: "video", url: "https://www.w3schools.com/html/movie.mp4", datum: "17.02.2026." }
            ]
        },
        {
            naslovSekcije: "SEKCIJA 3 - OBLAST 013",
            fajlovi: [
                { ime: "NAPUŠTENA FABRIKA", tip: "slika", url: "https://drive.google.com/thumbnail?id=1V_HXbEJjy9SvBBmKY_eYECQ0CuO-Zvbw&sz=w1000", datum: "14.12.2025." }
            ]
        },
        {
            naslovSekcije: "SEKCIJA 4 - NAPUŠTENA KLANICA",
            fajlovi: [
                { ime: "KLANICA VIDEO", tip: "video", url: "https://www.w3schools.com/html/mov_bbb.mp4", datum: "17.02.2026." }
            ]
        },
        {
            naslovSekcije: "-SLIKE-SEKCIJA 5 - ARHIVA SLIKA",
            fajlovi: [
                { ime: "Slika 1", tip: "slika", url: "https://drive.google.com/thumbnail?id=17syPiLTIjU4UO8TRnQyht4eLtEW2YKNL&sz=w1000", datum: "NEPOZNATO" },
                { ime: "Slika 2", tip: "slika", url: "https://drive.google.com/thumbnail?id=1590QaofLiEZyTW4mnowOsyFVY2ue2LrA&sz=w1000", datum: "NEPOZNATO" },
                { ime: "Slika 3", tip: "slika", url: "https://drive.google.com/thumbnail?id=1iYP2REvF7QMzAq80ONWCnpYEWerd5JL_&sz=w1000", datum: "NEPOZNATO" },
                { ime: "Slika 4", tip: "slika", url: "https://drive.google.com/thumbnail?id=1_ei_KjVurEyHyG4kyV0yKyG5t0_upblz&sz=w1000", datum: "NEPOZNATO" },
                { ime: "Slika 5", tip: "slika", url: "https://drive.google.com/thumbnail?id=1Krk5B-oGvzDr0IhxVqBvwsyYTEGXOUM8&sz=w1000", datum: "NEPOZNATO" },
                { ime: "Slika 6", tip: "slika", url: "https://drive.google.com/thumbnail?id=1mzCsQpyvcqUfISt3FusP6J6Mz7r6LauX&sz=w1000", datum: "NEPOZNATO" },
                { ime: "Slika 7", tip: "slika", url: "https://drive.google.com/thumbnail?id=1p8IOBBHNVCmONZsU01UiiPzj9olttW3e&sz=w1000", datum: "NEPOZNATO" },
                { ime: "Slika 8", tip: "slika", url: "https://drive.google.com/thumbnail?id=1s3yzr2GFE0LwEhU9Q6-Q2qSFDXM_oie9&sz=w1000", datum: "NEPOZNATO" },
                { ime: "Slika 9", tip: "slika", url: "https://drive.google.com/thumbnail?id=1pp1QwAspsuOIhPOQVCY87C3Kvz8aC2rv&sz=w1000", datum: "NEPOZNATO" },
                { ime: "Slika 10", tip: "slika", url: "https://drive.google.com/thumbnail?id=17mP28kD-EkpO4uXq6slsPtQSVThJmT-8&sz=w1000", datum: "NEPOZNATO" },
                { ime: "Slika 11", tip: "slika", url: "https://drive.google.com/thumbnail?id=PASTE_ID_OVDE&sz=w1000", datum: "NEPOZNATO" },
                { ime: "Slika 12", tip: "slika", url: "https://drive.google.com/thumbnail?id=PASTE_ID_OVDE&sz=w1000", datum: "NEPOZNATO" },
                { ime: "Slika 13", tip: "slika", url: "https://drive.google.com/thumbnail?id=PASTE_ID_OVDE&sz=w1000", datum: "NEPOZNATO" },
                { ime: "Slika 14", tip: "slika", url: "https://drive.google.com/thumbnail?id=PASTE_ID_OVDE&sz=w1000", datum: "NEPOZNATO" },
                { ime: "Slika 15", tip: "slika", url: "https://drive.google.com/thumbnail?id=PASTE_ID_OVDE&sz=w1000", datum: "NEPOZNATO" },
                { ime: "Slika 16", tip: "slika", url: "https://drive.google.com/thumbnail?id=PASTE_ID_OVDE&sz=w1000", datum: "NEPOZNATO" },
                { ime: "Slika 17", tip: "slika", url: "https://drive.google.com/thumbnail?id=PASTE_ID_OVDE&sz=w1000", datum: "NEPOZNATO" },
                { ime: "Slika 18", tip: "slika", url: "https://drive.google.com/thumbnail?id=PASTE_ID_OVDE&sz=w1000", datum: "NEPOZNATO" },
                { ime: "Slika 19", tip: "slika", url: "https://drive.google.com/thumbnail?id=PASTE_ID_OVDE&sz=w1000", datum: "NEPOZNATO" },
                { ime: "Slika 20", tip: "slika", url: "https://drive.google.com/thumbnail?id=PASTE_ID_OVDE&sz=w1000", datum: "NEPOZNATO" },
                { ime: "Slika 21", tip: "slika", url: "https://drive.google.com/thumbnail?id=PASTE_ID_OVDE&sz=w1000", datum: "NEPOZNATO" },
                { ime: "Slika 22", tip: "slika", url: "https://drive.google.com/thumbnail?id=PASTE_ID_OVDE&sz=w1000", datum: "NEPOZNATO" },
                { ime: "Slika 23", tip: "slika", url: "https://drive.google.com/thumbnail?id=PASTE_ID_OVDE&sz=w1000", datum: "NEPOZNATO" },
                { ime: "Slika 24", tip: "slika", url: "https://drive.google.com/thumbnail?id=PASTE_ID_OVDE&sz=w1000", datum: "NEPOZNATO" },
                { ime: "Slika 25", tip: "slika", url: "https://drive.google.com/thumbnail?id=PASTE_ID_OVDE&sz=w1000", datum: "NEPOZNATO" },
                { ime: "Slika 26", tip: "slika", url: "https://drive.google.com/thumbnail?id=PASTE_ID_OVDE&sz=w1000", datum: "NEPOZNATO" },
                { ime: "Slika 27", tip: "slika", url: "https://drive.google.com/thumbnail?id=PASTE_ID_OVDE&sz=w1000", datum: "NEPOZNATO" },
                { ime: "Slika 28", tip: "slika", url: "https://drive.google.com/thumbnail?id=PASTE_ID_OVDE&sz=w1000", datum: "NEPOZNATO" },
                { ime: "Slika 29", tip: "slika", url: "https://drive.google.com/thumbnail?id=PASTE_ID_OVDE&sz=w1000", datum: "NEPOZNATO" },
                { ime: "Slika 30", tip: "slika", url: "https://drive.google.com/thumbnail?id=PASTE_ID_OVDE&sz=w1000", datum: "NEPOZNATO" },
                { ime: "Slika 31", tip: "slika", url: "https://drive.google.com/thumbnail?id=PASTE_ID_OVDE&sz=w1000", datum: "NEPOZNATO" },
                { ime: "Slika 32", tip: "slika", url: "https://drive.google.com/thumbnail?id=PASTE_ID_OVDE&sz=w1000", datum: "NEPOZNATO" },
                { ime: "Slika 33", tip: "slika", url: "https://drive.google.com/thumbnail?id=PASTE_ID_OVDE&sz=w1000", datum: "NEPOZNATO" },
                { ime: "Slika 34", tip: "slika", url: "https://drive.google.com/thumbnail?id=PASTE_ID_OVDE&sz=w1000", datum: "NEPOZNATO" },
                { ime: "Slika 35", tip: "slika", url: "https://drive.google.com/thumbnail?id=PASTE_ID_OVDE&sz=w1000", datum: "NEPOZNATO" },
                { ime: "Slika 36", tip: "slika", url: "https://drive.google.com/thumbnail?id=PASTE_ID_OVDE&sz=w1000", datum: "NEPOZNATO" },
                { ime: "Slika 37", tip: "slika", url: "https://drive.google.com/thumbnail?id=PASTE_ID_OVDE&sz=w1000", datum: "NEPOZNATO" },
                { ime: "Slika 38", tip: "slika", url: "https://drive.google.com/thumbnail?id=PASTE_ID_OVDE&sz=w1000", datum: "NEPOZNATO" },
                { ime: "Slika 39", tip: "slika", url: "https://drive.google.com/thumbnail?id=PASTE_ID_OVDE&sz=w1000", datum: "NEPOZNATO" },
                { ime: "Slika 40", tip: "slika", url: "https://drive.google.com/thumbnail?id=PASTE_ID_OVDE&sz=w1000", datum: "NEPOZNATO" },
                { ime: "Slika 41", tip: "slika", url: "https://drive.google.com/thumbnail?id=PASTE_ID_OVDE&sz=w1000", datum: "NEPOZNATO" },
                { ime: "Slika 42", tip: "slika", url: "https://drive.google.com/thumbnail?id=PASTE_ID_OVDE&sz=w1000", datum: "NEPOZNATO" },
                { ime: "Slika 43", tip: "slika", url: "https://drive.google.com/thumbnail?id=PASTE_ID_OVDE&sz=w1000", datum: "NEPOZNATO" },
                { ime: "Slika 44", tip: "slika", url: "https://drive.google.com/thumbnail?id=PASTE_ID_OVDE&sz=w1000", datum: "NEPOZNATO" },
                { ime: "Slika 45", tip: "slika", url: "https://drive.google.com/thumbnail?id=PASTE_ID_OVDE&sz=w1000", datum: "NEPOZNATO" },
                { ime: "Slika 46", tip: "slika", url: "https://drive.google.com/thumbnail?id=PASTE_ID_OVDE&sz=w1000", datum: "NEPOZNATO" }
            ]
        }
    ];

    const SIFRA = "29012026kontrola";
    let curS = 0; let curF = 0; // Trenutna sekcija i fajl

    // MATRIX BG
    const canvas = document.getElementById('bg-canvas');
    const ctx = canvas.getContext('2d');
    let pts = [];
    function init() { canvas.width = window.innerWidth; canvas.height = window.innerHeight; }
    class Pt {
        constructor() { this.x = Math.random()*canvas.width; this.y = Math.random()*canvas.height; this.vx = (Math.random()-0.5)*0.5; this.vy = (Math.random()-0.5)*0.5; }
        upd() { this.x+=this.vx; this.y+=this.vy; if(this.x<0||this.x>canvas.width)this.vx*=-1; if(this.y<0||this.y>canvas.height)this.vy*=-1; }
    }
    function draw() {
        ctx.clearRect(0,0,canvas.width,canvas.height); ctx.strokeStyle = '#004d1a';
        pts.forEach(p => {
            p.upd();
            pts.forEach(p2 => {
                let d = Math.hypot(p.x-p2.x, p.y-p2.y);
                if(d<150) { ctx.beginPath(); ctx.moveTo(p.x,p.y); ctx.lineTo(p2.x,p2.y); ctx.stroke(); }
            });
        });
        requestAnimationFrame(draw);
    }
    init(); for(let i=0;i<80;i++) pts.push(new Pt()); draw();
    window.addEventListener('resize', init);

    // SISTEM
    function check() { 
        if(document.getElementById('pass').value === SIFRA) { 
            document.getElementById('login').style.display='none'; 
            document.getElementById('main').style.display='block'; 
            load(); 
        } else { alert("ACCESS DENIED"); } 
    }
    function show(id) { document.querySelectorAll('.section').forEach(s => s.classList.remove('active')); document.getElementById(id).classList.add('active'); }
    
    function load() {
        const cont = document.getElementById('arhiva-kontener'); cont.innerHTML = "";
        MOJA_ARHIVA.forEach((s, si) => {
            let html = `<div class="sekcija-container"><div class="sekcija-naslov">${s.naslovSekcije}</div><div class="grid" id="g-${si}"></div></div>`;
            cont.innerHTML += html;
            s.fajlovi.forEach((f, fi) => {
                document.getElementById(`g-${si}`).innerHTML += `<div class="card" onclick="openF(${si},${fi})"><span>${f.datum}</span>${f.tip==='video' ? `<video src="${f.url}"></video>` : `<img src="${f.url}">`}<h3>${f.ime}</h3></div>`;
            });
        });
    }

    function openF(si, fi) {
        curS = si; curF = fi;
        const f = MOJA_ARHIVA[si].fajlovi[fi];
        document.getElementById('preview-title').innerText = f.ime;
        const holder = document.getElementById('media-holder');
        
        if(f.tip === 'video') {
            holder.innerHTML = `<iframe id="preview-content" src="${f.url}" allow="autoplay; fullscreen" allowfullscreen></iframe>`;
        } else {
            holder.innerHTML = `<img id="preview-content" src="${f.url}" style="object-fit: contain;">`;
        }
        document.getElementById('preview').style.display = 'block';
    }

    // NAVIGACIJA KROZ SLIKE
    function nextM() {
        curF++;
        if(curF >= MOJA_ARHIVA[curS].fajlovi.length) {
            // Prelazi na sledeću sekciju ili se vraća na početak prve
            curF = 0; 
            curS = (curS + 1) % MOJA_ARHIVA.length;
        }
        openF(curS, curF);
    }

    function prevM() {
        curF--;
        if(curF < 0) {
            curS = (curS - 1 + MOJA_ARHIVA.length) % MOJA_ARHIVA.length;
            curF = MOJA_ARHIVA[curS].fajlovi.length - 1;
        }
        openF(curS, curF);
    }

    function closePreview() {
        document.getElementById('media-holder').innerHTML = "";
        document.getElementById('preview').style.display = 'none';
    }

    // TASTATURA KOMANDE
    window.addEventListener('keydown', (e) => {
        if(document.getElementById('preview').style.display === 'block') {
            if(e.key === "ArrowRight") nextM();
            if(e.key === "ArrowLeft") prevM();
            if(e.key === "Escape") closePreview();
        }
    });
</script>
</body>
</html>
